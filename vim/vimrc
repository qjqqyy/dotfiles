set nocompatible ruler laststatus=2 showcmd noshowmode number
set incsearch ignorecase smartcase hlsearch
set title
set shortmess+=I
"set breakindent

" plugins
call plug#begin('~/.vim/plug/')
Plug 'chriskempson/base16-vim'
Plug 'vim-airline/vim-airline'
Plug 'vim-airline/vim-airline-themes'
Plug 'rkitover/vimpager'
Plug 'vim-pandoc/vim-pandoc'
Plug 'vim-pandoc/vim-pandoc-syntax'
Plug 'neomake/neomake'
call plug#end()

syntax enable
set backspace=indent,eol,start
"
"return and space for :noh
nnoremap <CR> :nohlsearch<CR><CR>
"nnoremap <Space> :nohlsearch<CR>

"set foldcolumn=2 foldmethod=syntax foldlevel=99 foldenable

set mouse=a
"set tw=80
set colorcolumn=81

if $USER != 'root'
    set modeline modelines=5
else
    set nomodeline viminfo=
endif

colorscheme base16-default-light
set cursorline

set t_Co=16
filetype plugin indent on


au FileType c,h setlocal cindent
au FileType javascript setlocal sw=4 sts=4 et
au FileType pl,perl,perl6 setlocal sw=4 sts=4 et
au FileType zsh setlocal sw=2 sts=2 et
au FileType tex setlocal sw=4 sts=4 et cc=0
" autocompile tex on :w
"let g:tex_pdf_map_keys = 0
"au FileType tex autocmd BufWritePost * BuildTexPdf
au FileType tex autocmd BufWritePost * Neomake!
au FileType haskell,lhaskell setlocal sw=2 sts=2 et cc=0

let g:pandoc#modules#disabled = ["folding"]
au FileType pandoc setlocal sw=4 sts=4 et cc=0
au FileType pandoc autocmd BufWritePost * Neomake!
au FileType pandoc silent! call airline#extensions#whitespace#disable()

let g:airline_theme='base16'
let g:airline_powerline_fonts=0
if !exists('g:airline_symbols')
    let g:airline_symbols = {}
endif
" unicode symbols
let g:airline_left_sep = ' '
let g:airline_left_alt_sep = '|'
let g:airline_right_sep = ' '
let g:airline_right_alt_sep = ' '
let g:airline_symbols.linenr = '¶'
let g:airline_symbols.whitespace = 'Ξ'
let g:airline_symbols.maxlinenr = ''

" disable conceal for pandoc
let g:pandoc#syntax#conceal#use = 0


if has('gui_running')
"    set guifont=Source\ Code\ Pro\ Medium\ 10
    set guicursor+=a:blinkon0
    set guioptions-=m
    set guioptions-=r
    set guioptions-=T
endif
if filereadable($HOME . "/.vim/vimrc.local")
    source ~/.vim/vimrc.local
endif

" man.vim related
runtime ftplugin/man.vim
